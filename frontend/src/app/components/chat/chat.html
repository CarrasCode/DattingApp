<div class="chat-container">
  <ul class="message-list">
    @for (msg of messages(); track $index) {
      <li class="message-bubble" [class.me]="msg.is_me" [class.them]="!msg.is_me">
        <div class="bubble-content">
          {{ msg.text }}
          <span class="timestamp">{{ msg.created_at | date: 'shortTime' }}</span>
        </div>
      </li>
    } @empty {
      <div class="empty-state">
        <p>ðŸ‘‹ Â¡Di hola! No hay mensajes aÃºn.</p>
      </div>
    }
  </ul>

  <div class="chat-input-area">
    <input
      type="text"
      [class.has-text]="newMessage().length > 0"
      [ngModel]="newMessage()"
      (ngModelChange)="newMessage.set($event)"
      (keyup.enter)="sendMessage()"
      placeholder="Escribe un mensaje..."
    />
    <button (click)="sendMessage()" [disabled]="!newMessage().trim()">âž¤</button>
  </div>
</div>
